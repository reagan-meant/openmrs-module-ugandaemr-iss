<htmlform formName="Follow-up Form"
          formDescription="A visit for a client to an ART clinic"
          formEncounterType="8d5b2be0-c2cc-11de-8d13-0010c6dffd0f"
          formUuid="12de5bc5-352e-4faf-9961-a2125085a75c"
          formVersion="2.2"
          formAddMetadata="yes"
          formUILocation="patientDashboard.visitActions"
          formOrder="3"
          formIcon="icon-medkit"
          formShowIf="(visit.active || !visit.active) &amp;&amp; patient.person.dead==false &amp;&amp; sessionLocation.uuid=='86863db4-6101-4ecf-9a86-5e716d6504e4'"
          formDisplayStyle="Standard">
    <style type="text/css">
        .EnableDisabletbstatuschild {
            display: none;
        }

        .error {
            color: red;
        }

        #w30, #w32 {
            display: inline-block;
            width: 10px;
        }

        #w141, #w170 {
            width: 120px;
        }

        table {
            width: 99%;
            display: inline-block;
        }

        table td {
            background: #B6D6E6;
            color: #404040;
            vertical-align: top;
        }

        form#htmlform div.ai-page-frame table tbody td {
            background: #B6D6E6;
            color: #404040;
            padding: 0px 5px;
        }

        form select, .form select {
            min-width: 0px;
        }

        form input, form select, form textarea, form ul.select, .form input, .form select, .form textarea, .form
        ul.select {
            min-width: 20%;
            background-color: #FBFBFB;
            border: 1px solid #404040;
            border-radius: 5px;
            margin-bottom: 10px;
            padding: 0px;
        }

        table th, table td {
            border: 1px solid #BDBDBD;
            text-align: left;
            vertical-align: top;
            background: #B6D6E6;
        }

        .section {
            margin: 20px 0px;
        }

        form .lablex {
            width: 93%;
        }

        form .lablex span {
            width: 26%;
            float: left;
            margin: 1px 0px;
        }

        form .lablex2 span {
            min-width: 50%;
            float: left;
            margin: 1px 0px;
        }

        form .lablex3 {
        }

        form .lablex3 span {
            min-width: 50%;
            float: left;
            margin: 1px 0px;
        }

        input[type=radio] {
            display: inline-block;
            float: none !important;
        }

        .hasInlineLabels label {
            display: inline-block;
        }


    </style>
    <!-- jquery loaded for nonessential purposes. -->
    <script type="text/javascript">
        function enable_disable(field, class_name_prefix, conditions, input_type) {

            var class_name = jq(field).attr("class");

            var length = class_name.length;

            var class_id = parseInt(class_name.substring(length - 1, length));
            var childClass = "Child" + class_id;

            var disable = true;
            var requires = true;

            var row = '[class^="' + class_name_prefix + '"][class*="' + childClass + '"]';

            var selected_value = null;

            if (input_type == "select") {
                selected_value = jq(field).find(":selected").text().trim().toLowerCase();
            } else if (input_type == "hidden") {
                selected_value = jq(field).find("input[type=hidden]").val().trim().toLowerCase();
            }


            if (eval(conditions)) {
                disable = false;
            }


            jq(row).each(function () {
                var group = jq(this);

                if (class_name.indexOf('Child') == -1) {
                    /*group.find("input").attr("value", ""); */
                    group.find("input").attr("required", requires);
                    /* group.find('select').prop("selectedIndex", 0);*/
                    group.find("input").attr("disabled", disable);
                    group.find('select').attr("disabled", disable);

                    if (disable) {
                        /* fade out the fields that are disabled */
                        group.find("input").fadeTo(250, 0.25);
                        group.find("select").fadeTo(250, 0.25);
                        } else {
                        /* remove the fade on the fields */
                        group.find("input").fadeTo(250, 1);
                        group.find("select").fadeTo(250, 1);
                    }
                }
            });
        }


        function enable_disable_district_tb_reg(selected_option) {

            var class_name = jq(selected_option).attr("class");

            var length = class_name.length;

            var class_id = parseInt(class_name.substring(length - 1, length))

            var row_id = class_id;

            var disable = true;
            var requires = false;

            var row_1 = '[class^="DistrictTbReg"][class*="Child1"]';

            var xx = row_1;
            var selected_value = jq(selected_option).find(":selected").text()

            selected_value = selected_value.trim().toLowerCase();

            if (selected_value == "tb rx") {
                disable = false;
                requires = true;
            }

            switch (row_id) {
                case 1:
                    xx = row_1;
                    break;
            }


            jq(xx).each(function () {
                var group = jq(this);

                if (class_name.indexOf('Child') == -1) {
                    /* group.find("input").attr("value", ""); */
                    group.find("input").attr("required", requires);
                    /* group.find('select').prop("selectedIndex", 0); */
                    group.find("input").attr("disabled", disable);
                    group.find('select').attr("disabled", disable);
                    if (requires == false) {
                        group.find('.required').show();
                    }
                    else if (requires == true) {
                        group.find('.required').hide();
                    }

                    if (disable) {
                        /* fade out the fields that are disabled */
                        group.find("input").fadeTo(250, 0.25);
                        group.find("select").fadeTo(250, 0.25);
                    } else {
                        /* remove the fade on the fields */
                        group.find("input").fadeTo(250, 1);
                        group.find("select").fadeTo(250, 1);
                    }

                }
            });
        }


        if (jQuery) {
            <!-- Validation rules -->
            beforeSubmit.push(function () {
                var isValid = true;
                setValue('who-staging.error', '');
                if (getValue('visitType.value') == 1163310 || getValue('visitType.value') == 1163311) {
                    <!-- clear the previous errors -->
                    setValue('sexualActive.error', '');
                    setValue('anySTIs.error', '');
                    setValue('disclosedToPartner.error', '');
                    setValue('partnerStatus.error', '');
                    setValue('screenForCancer.error', '');
                    setValue('tbStatus.error', '');
                    setValue('POV.error', '');
                    setValue('septrinProbQuestion.error', '');
                    setValue('septrinDapsoneAdherence.error', '');
                    setValue('septrinDapsoneDaysMissed.error', '');

                    <!-- validate the required fields -->
                    if (getValue('sexualActive.value') == "") {
                        getField('sexualActive.error').html('Please select whether the patient is sexually active or not').show();
                        isValid = false;
                    }
                    if (getValue('anySTIs.value') == "") {
                        getField('anySTIs.error').html('Please select whether the patient has any symptoms of STIs').show();
                        isValid = false;
                    }
                    if (getValue('disclosedToPartner.value') == "") {
                        getField('disclosedToPartner.error').html('Please select whether the patient has disclosed their status to their partner').show();
                        isValid = false;
                    }
                    if (getValue('partnerStatus.value') == "") {
                        getField('partnerStatus.error').html('Please select the status of your partner').show();
                        isValid = false;
                    }
                    if (getValue('screenForCancer.value') == "") {
                        getField('screenForCancer.error').html('Please select whether the client has been screened for cancer').show();
                        isValid = false;
                    }
                    if (getValue('tbStatus.value') == "") {
                        getField('tbStatus.error').html("Please select whether the client's TB status").show();
                        isValid = false;
                    }
                    if (getValue('POV.value') == "") {
                        getField('POV.error').html('Please select whether the client is eligible for POV').show();
                        isValid = false;
                    }
                }

                <!-- if the WHO staging status has changed from the last encounter then the reason why must be specified -->
                if (getValue('who-staging.value') != jq('#last-who-staging').text()) {
                    if(getValue('basis-for-who-stage-change.value') == "") {
                        getField('basis-for-who-stage-change.error').html('Please provide the reason for the WHO stage change').show();
                        isValid = false;
                    }
                }

                <!-- if CPT/Dapsone is not applicable then Adherence, Days missed and pill balance should not be required -->
                if (getValue('1193.value') != 1107) {
                    if(getValue('septrinProbQuestion.value') == "") {
                        getField('septrinProbQuestion.error').html('Please provide any problems with CPT/Dapsone since the last visit ').show();
                        isValid = false;
                    }
                    if(getValue('septrinDapsoneAdherence.value') == "") {
                        getField('septrinDapsoneAdherence.error').html('Please enter the Adherence for Septrin/Dapsone').show();
                        isValid = false;
                    }
                    if(getValue('septrinDapsoneDaysMissed.value') == "") {
                        getField('septrinDapsoneDaysMissed.error').html('Please enter the number of days missed for Septrin/Dapsone').show();
                        isValid = false;
                    }
                }
                if (!isValid) {
                    jq().toastmessage('showErrorToast', "  There are errors during the valdation of the data on the form. Please correct them and submit again");
                }
                return isValid;
            });

            jq(document).ready(function () {
                /* Validation of the ART regimen Selected */
                jq("#90315").change(function () {
                    var regimen_encounter_page_value = jq("#90315").find("select").find(":selected").val();
                    var regimen_encounter_page_text = jq("#90315").find("select").find(":selected").text();
                    var art_transfer_regimen = jq("#artTransferRegimen").html();
                    var other_art_transfer_regimen = jq("#otherArtTransferRegimen").html();
                    var art_start_regimen = jq("#artStartRegimen").html();
                    var other_art_start_regimen = jq("#otherArtStartRegimen").html();
                    var first_second_regimen = jq("#firstSecondLineRegimen").html();
                    var other_first_second_regimen = jq("#otherFirstSecondLineRegimen").html();
                    var third_second_regimen = jq("#thirdLineRegimen").html();
                    var other_third_regimen = jq("#otherThirdLineRegimen").html();
                    var patient_regimen = other_third_regimen + third_second_regimen + other_first_second_regimen + other_first_second_regimen + first_second_regimen + other_art_start_regimen + art_start_regimen + other_art_transfer_regimen + art_transfer_regimen;

                    /* Check if  Patient has art start or tranfer regimen selected on ART Summary Page*/
                    if (art_start_regimen == "null" &amp;&amp; art_transfer_regimen == "null") {
                        jq().toastmessage('showNoticeToast', "Patient Doesn't have any either ART Start or Transfer regimen on ART Summary selected");
                    }

                    if (!patient_regimen.includes(regimen_encounter_page_value)) {
                        jq().toastmessage('showNoticeToast', "The regimen " + regimen_encounter_page_text + " you have selected is different from the current regimen in the Summary page. Please update the summary page with a switch/substitution to the selected regimen");
                    }
                });

                jq('[class^="ARTYesNoEnableDisable"]').change(function () {
                    enable_disable(jq(this), "ARTYesNo", 'selected_value == "yes" &amp;&amp; selected_value!=""', "select");
                });

                jq('[class^="ARTYesNoEnableDisable"]').each(function () {
                    enable_disable(jq(this), "ARTYesNo", 'selected_value == "yes" &amp;&amp; selected_value!=""', "select");
                });

                jq('[class^="RegimenEnableDisable"]').change(function () {
                    enable_disable(jq(this), "Regimen", 'selected_value == "other"', "select");
                });

                jq('[class^="RegimenEnableDisable"]').each(function () {
                    enable_disable(jq(this), "Regimen", 'selected_value == "other"', "select");
                });

                jq('[class^="DistrictTbRegEnableDisable"]').change(function () {
                    enable_disable_district_tb_reg(jq(this));
                });

                jq('[class^="DistrictTbRegEnableDisable"]').each(function () {
                    enable_disable_district_tb_reg(jq(this));
                });


                jq('[class^="AdherenceEnableDisable"]').change(function () {
                    enable_disable(jq(this), "Adherence", 'selected_value == "poor" || selected_value=="fair"', "select");
                });

                jq('[class^="AdherenceEnableDisable"]').each(function () {
                    enable_disable(jq(this), "Adherence", 'selected_value == "poor" || selected_value=="fair"', "select");
                });


                jq('[class^="ViralLoadEnableDisable"]').change(function () {
                    enable_disable(jq(this), "ViralLoad", 'selected_value != "not detected" &amp;&amp; selected_value!=""', "select");
                });

                jq('[class^="ViralLoadEnableDisable"]').each(function () {
                    enable_disable(jq(this), "ViralLoad", 'selected_value != "not detected" &amp;&amp; selected_value!=""', "select");
                });


                jq(".enableDisable").each(function () {
                    var group = jq(this);

                    function disableFn() {
                        group.children("#disabled").fadeTo(250, 0.25);
                        /* group.children("#disabled").find(":checkbox").attr("checked", false); uncheck */
                        group.children("#disabled").find("input").attr("disabled", true);
                        /* disable */
                        group.children("#disabled").find("select").attr("disabled", true);
                    }

                    function enableFn() {
                        group.children("#disabled").fadeTo(250, 1);
                        group.children("#disabled").find("input").attr("disabled", false);
                        group.children("#disabled").find("select").attr("disabled", false);

                    }

                    if (jq(this).children("#trigger").find(":checkbox:first").attr("checked") != "checked") {
                        disableFn();
                    }

                    jq(this).children("#trigger").find(":checkbox:first").change(function () {
                        var checked = jq(this).attr("checked");
                        if (checked == "checked") {
                            enableFn();
                        } else {
                            disableFn();
                        }
                    });
                });
            });
        }
    </script>

    <!-- This section contains lookup tags that pick data from other forms-->

    <lookup complexExpression="#set($art_start_regimen='null') #set($other_art_start_regimen='null') #set($art_transfer_regimen='null') #set($other_art_transfer_regimen='null')"/>

    <lookup complexExpression="#set($first_second_line_regimen='null') #set($other_first_second_line_regimen='null')"/>

    <lookup complexExpression="#set($third_line_regimen='null') #set($other_third_line_regimen='null')"/>

    <span style="display: none" id="artStartRegimen"><lookup
            complexExpression="#set($art_start_regimen=($fn.latestObs('99061').valueCoded))$art_start_regimen"/></span>

    <span style="display: none" id="otherArtStartRegimen"><lookup
            complexExpression="#set($other_art_start_regimen=($fn.latestObs('99268').valueText))$other_art_start_regimen"/></span>

    <span style="display: none" id="artTransferRegimen"><lookup
            complexExpression="#set($art_transfer_regimen=$fn.latestObs('99064').valueCoded)$art_transfer_regimen"/></span>

    <span style="display: none" id="otherArtTransferRegimen"><lookup
            complexExpression="#set($other_art_transfer_regimen=$fn.latestObs('99269').valueText)$other_art_transfer_regimen"/></span>

    <span style="display: none" id="firstSecondLineRegimen"><lookup
            complexExpression="#foreach($first_second_line_regimen in $fn.allObs(90315)) $first_second_line_regimen.valueCoded #end"/></span>

    <span style="display: none" id="otherFirstSecondLineRegimen"><lookup
            complexExpression="#foreach($other_first_second_line_regimen in $fn.allObs(99146)) $other_first_second_line_regimen.valueText #end"/></span>


    <span style="display: none" id="thirdLineRegimen"><lookup
            complexExpression="#foreach($third_line_regimen in $fn.allObs(162990)) $first_second_line_regimen.valueCoded #end"/></span>

    <span style="display: none" id="otherThirdLineRegimen"><lookup
            complexExpression="#foreach($other_third_line_regimen in $fn.allObs(162989)) $other_first_second_line_regimen.valueText #end"/></span>

    <!--End of Lookup section-->

    <div class="ai-page-frame">
        <div class="headers" style="text-align: center;">
            <h3>HIV Care/ART CARD - Encounter Page</h3>
        </div>
        <span style="display: none;">
            <encounterLocation default="629d78e9-93e5-43b0-ad8a-48313fd99117"
                               order="629d78e9-93e5-43b0-ad8a-48313fd99117"/>
        </span>




        <section>
            <table>
                <tbody>
                    <tr>
                        <td style="width: 15%;background: #F3F3F3;">Date
                            <br/>
                            Tick box if scheduled
                        </td>
                        <td style="width: 15%;background: #F3F3F3;">Type of Visit</td>
                    </tr>
                    <tr>
                        <td>
                            <encounterDate default="today" disallowMultipleEncountersOnDate="block"/>
                            <br/>
                            <obs id="br" conceptId="90069" labelText="Scheduled?" style="checkbox"/>
                        </td>
                        <td>
                            <obs id="visitType" conceptId="1163173" answerConceptIds="1163310,1163311,1163307,1163175,1163312,1163313" answerLabels="1-Facility,2-Community,3-POV,4-Nurse,5-Sick,6-Represented" labelText="Type of Visit:" required="true" />
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="presentingComplaints">
            <table>
                <tbody>
                    <tr>
                        <td style="width: 15%;background: #F3F3F3;">Presenting complaints
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <obs conceptId="1163314" cols="80" rows="5" />
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section id="reasonForNotComing">
            <table>
                <tbody>
                    <tr>
                        <td style="width: 15%;background: #F3F3F3;">Reason for not coming
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <obs conceptId="1163315" cols="80" rows="2" />
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="firstSection">
            <table>
                <tbody>
                    <tr>
                        <td style="width: 15%;background: #F3F3F3;">Duration in months since first starting ART/since
                            starting current regimen
                        </td>
                        <includeIf velocityTest="$patient.age &gt;=14"><td style="width: 15%;background: #F3F3F3;">Prevention with Positives/If pregnant EDD/EMTCT? Write gestation in weeks
                            and ANC#
                        </td></includeIf>
                    </tr>
                    <tr>
                        <td>
                            <obs id="br" conceptId="99024" labelText="Duration(Months since baseline):"/>
                            <br/>
                            <obs id="br" conceptId="99025" labelText="Duration:(Months on current regimen)"/>
                        </td>
                        <includeIf velocityTest="$patient.age &gt;=14"><td>
                            <obs id="sexualActive" conceptId="99624" answerConceptIds="1065,1066"
                                 answerLabels="Yes,No" labelText="Is Patient Sexually active">
                                <controls>
                                    <when value="1065" thenDisplay=".fpSection" />
                                </controls>
                            </obs>
                            <excludeIf velocityTest="$patient.gender =='M' || $patient.age &lt; 9">
                                <span class="ARTYesNoEnableDisable2 fpSection">
                                    <obs conceptId="90041" style="checkbox" answerConceptIds="1065,1066"
                                         answerLabels="Yes,No" labelText="Pregnant"/>
                                </span>
                                <span class="ARTYesNoEnableDisable2 fpSection">
                                    <obs conceptId="1163317" style="checkbox" answerConceptIds="1065,1066"
                                         answerLabels="Yes,No" labelText="Lactating"/>
                                </span>
                                <span class="ARTYesNoEnableDisableChild2 fpSection">
                                    <obs conceptId="5596" labelText="EDD:" allowFutureDates="true"/>
                                    <br/>
                                    <obs conceptId="99325" labelText="LNMP:" />
                                    <br/>
                                </span>
                                <span class="ARTYesNoEnableDisable3 fpSection">
                                    <obs conceptId="90012" labelText="eMTCT Connected:" answerConceptIds="90003,90004"
                                         answerLabels="Yes,No"/>
                                    <obs conceptId="90027" labelText="Ever taken NVP or AZT during Pregnancy" />
                                </span>
                            </excludeIf>
                            <excludeIf velocityTest="$patient.age &lt; 9">
                                <excludeIf velocityTest="$patient.gender =='M'">
                                    <br/>
                                    <span class="ARTYesNoEnableDisableChild2 fpSection">
                                        <obs conceptId="162983" labelText="Gestation in Weeks"/>
                                        <br/>
                                        ANC #
                                        <patient field="identifier" identifierTypeId="b0cc255e-ef57-4266-839e-0df7f5099eb9"
                                                 required="false"/>
                                        <br/>
                                    </span>
                                </excludeIf>
                                <span class="fpSection">
                                    <span id="checkboxRadio">
                                        <span class="ARTYesNoEnableDisable1">
                                            <obs id="br" conceptId="90238" answerConceptIds="90082,90081" answerLabels="Yes,No"
                                                 labelText="Family Planning?"/>
                                        </span>
                                    </span>
                                    <br/>
                                    <span class="ARTYesNoEnableDisableChild1 fpSection">
                                        Family Planning Method:
                                        <br/>
                                        <obs id="br" conceptId="374" answerConceptId="190" answerLabel="1 - Condoms"/>
                                        <excludeIf velocityTest="$patient.gender =='M' ">
                                            <span class="lablex2">
                                                <obs id="br" conceptId="374" answerConceptId="780"
                                                     answerLabel="2 - Oral Contraceptive pills"/>
                                                <obs id="br" conceptId="374" answerConceptId="5279"
                                                     answerLabel="3 - Injectable/Implantable hormonies"/>
                                                <obs id="br" conceptId="374" answerConceptId="5278"
                                                     answerLabel="4 - Diaphram/Cervical Cap"/>
                                                <obs id="br" conceptId="374" answerConceptId="5275"
                                                     answerLabel="5 - Intra uterine device (IUD)"/>
                                            </span>
                                        </excludeIf>
                                        <obs id="br" conceptId="374" answerConceptId="99265"
                                             answerLabel="6 - Vasectomy/Tubal ligation"/>
                                    </span>
                                </span>
                                <br/>
                                <!--
                                <excludeIf velocityTest="$patient.gender =='M'">
                                    <span class="ARTYesNoEnableDisableChild3">
                                    <obs id="br" conceptId="99270" labelText="Age in months"/>
                                    </span>
                                </excludeIf>
                                 -->
                            </excludeIf>

                        </td>
                        </includeIf>
                    </tr>
                </tbody>
            </table>
        </section>
        <section id="secondSection">
            <table>
                <tbody>
                    <tr>
                        <td style="width: 15%;background: #F3F3F3;padding: 20px;">STI Symptom Screening</td>

                        <includeIf velocityTest="$patient.age &gt;=14">
                            <td style="width: 15%;background: #F3F3F3;padding: 20px;">Disclosure Status</td>
                        </includeIf>
                        <excludeIf velocityTest="$patient.gender =='M'">
                            <td style="width: 15%;background: #F3F3F3;padding: 20px;">Cervical Cancer screening</td>
                        </excludeIf>
                        <td style="width: 15%;background: #F3F3F3;padding: 20px;">TB Status / TB Rx / District TB</td>
                        <td style="width: 15%;background: #F3F3F3;padding: 20px;">Potential side effects</td>
                    </tr>
                    <tr>
                        <td>
                            <label>Are there any symptoms of an STI?</label>
                            <obs id="anySTIs" conceptId="1163177" answerConceptIds="1065,1066" answerLabels="Yes,No">
                                <controls>
                                    <when value="1065" thenDisplay="#stiSymptoms" />
                                </controls>
                            </obs>
                            <span id="stiSymptoms">
                                <label>If yes, symptoms:</label>
                                <obs id="stiSymptomsList" conceptId="1163320" answerConceptIds="145762, 123396, 123529, 157544, 5622" answerLabels="Genital Ulcers, Abnormal Vaginal Discharge, Urethral Discharge, Lower Abdominal Pain, Other">
                                    <controls>
                                        <when value="5622" thenDisplay="#stiSymptomsOther" />
                                </controls>
                                </obs>
                                <span id="stiSymptomsOther">
                                    Other STI Symptoms:
                                    <obs conceptId="1163178"/>
                                </span>

                            </span>
                        </td>
                        <includeIf velocityTest="$patient.age &gt;=14"><td>
                            <label>Have you disclosed your HIV status to your spouse/sexual partner?</label>
                            <obs id="disclosedToPartner" conceptId="1163179" answerConceptIds="90003,90004,1175" answerLabels="Yes,No,N/A"/>

                            <label>Partner Status:</label>
                            <obs id="partnerStatus" conceptId="99630" answerConceptIds="703,664,90001,1175" answerLabels="Pos,Neg,Unk,N/A">
                                <controls>
                                    <when value="703" thenDisplay="#partnerInCare" />
                                </controls>
                            </obs>
                            <span id="partnerInCare">
                                <label>If Positive is he/she accessing care?</label>
                                <obs id="isPartnerIncare" conceptId="1163180">
                                    <controls>
                                        <when value="90003" thenDisplay="#whereInCare" />
                                    </controls>
                                </obs>
                                <span id="whereInCare">
                                    <label>Name of clinic:</label>
                                    <obs id="clinicQn" conceptId="1163181" answerConceptIds="1163182,5622" answerLabels="Mulago ISS Clinic,Other">
                                        <controls>
                                            <when value="5622" thenDisplay="#whereInCareOther" />
                                        </controls>
                                    </obs>
                                </span>
                                <span id="whereInCareOther">
                                    <obs conceptId="1163318" />
                                </span>
                            </span>

                        </td></includeIf>
                        <excludeIf velocityTest="$patient.gender =='M' ">
                            <td>
                                <label>Screen for Cancer of the cervix in the past 1 year</label>
                                <obs id="screenForCancer" conceptId="1163183">
                                    <controls>
                                        <when value="90003" thenDisplay="#cancerResults" />
                                    </controls>
                                </obs>
                                <span id="cancerResults">
                                    <label>Results:</label>
                                    <obs id="cancerR stls" conceptId="1163184" answerConceptIds="703,664" answerLabels="Pos,Neg">
                                        <controls>
                                            <when value="703" thenDisplay="#actionTakenCancer" />
                                        </controls>
                                    </obs>
                                </span>
                                <span id="actionTakenCancer">
                                    <label>Action taken:</label>
                                    <obs conceptId="1163316"/>
                                </span>
                            </td>
                        </excludeIf>
                        <td>
                            <span class="DistrictTbRegEnableDisable1">
                                <obs id="tbStatus" conceptId="90216" labelText="Tb Status"
                                     answerConceptIds="90079,90073,90078,90071"
                                     answerLabels="No signs,Suspect,Diagnosed with Tb,Tb Rx"/>
                            </span>
                            <span class="DistrictTbRegEnableDisableChild1">
                                <obs id="br" conceptId="90217" labelText="TB Start Date:"/>
                                <obs id="br" conceptId="90310" labelText="TB Stop Date:" allowFutureDates="true"/>

                            </span>
                            <label>District TB No.</label>
                            <span class="DistrictTbRegEnableDisableChild1">
                                <patient field="identifier" identifierTypeId="8110f2d2-1f98-4c38-aef3-11b19bb0a589"
                                         required="false"/>
                            </span>

                            <br/>
                        </td>
                        <td class="lablex2">
                            <obs id="br" conceptId="90227" answerConceptId="90100" answerLabel="AB"/>
                            <obs id="br" conceptId="90227" answerConceptId="90099" answerLabel="Anaemia"/>
                            <obs id="br" conceptId="90227" answerConceptId="90095" answerLabel="BN"/>
                            <obs id="br" conceptId="90227" answerConceptId="90117" answerLabel="CNS"/>
                            <obs id="br" conceptId="90227" answerConceptId="90092" answerLabel="Diarrhoea"/>
                            <obs id="br" conceptId="90227" answerConceptId="90116" answerLabel="FAT"/>
                            <obs id="br" conceptId="90227" answerConceptId="90093" answerLabel="Fatigue"/>
                            <obs id="br" conceptId="90227" answerConceptId="90094" answerLabel="Headache"/>
                            <obs id="br" conceptId="90227" answerConceptId="90115" answerLabel="Jaundice"/>
                            <obs id="br" conceptId="90227" answerConceptId="90091" answerLabel="Nausea"/>
                            <obs id="br" conceptId="90227" answerConceptId="90098" answerLabel="Rash"/>
                            <span class="enableDisable">
                                <span id="trigger">
                                    <obs id="br" conceptId="90227" answerConceptId="90002" answerLabel="Other specify:"/>
                                </span>
                                <span id="disabled">
                                    <obs conceptId="99113" size="17" labelText=""/>
                                </span>
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section id="thirdSection">
            <table>
                <tbody>
                    <tr>
                        <td style="width: 15%;background: #F3F3F3;padding: 20px;">New OI / Problems</td>
                        <td style="width: 15%;background: #F3F3F3;padding: 20px;">Functional Status</td>
                        <td style="width: 15%;background: #F3F3F3;padding: 20px;">WHO Clinical stage</td>
                        <td style="width: 15%;background: #F3F3F3;padding: 20px 100px;">Non-ARV Medications Dispensed</td>
                    </tr>
                    <tr>

                        <td class="lablex2">
                            <obs id="br" conceptId="90251" answerConceptId="90132" answerLabel="Cough"/>
                            <obs id="br" conceptId="90251" answerConceptId="90133"
                                 answerLabel="DB"/>
                            <obs id="br" conceptId="90251" answerConceptId="90128"
                                 answerLabel="Dementia"/>
                            <obs id="br" conceptId="90251" answerConceptId="162849"
                                 answerLabel="Ear Infection"/>
                            <obs id="br" conceptId="90251" answerConceptId="90129"
                                 answerLabel="Enceph"/>
                            <obs id="br" conceptId="90251" answerConceptId="90131"
                                 answerLabel="Fever"/>
                            <obs id="br" conceptId="90251" answerConceptId="162850"
                                 answerLabel="Poor Growth"/>
                            <obs id="br" conceptId="90251" answerConceptId="162847"
                                 answerLabel="Palpaple Lymph Nodes"/>
                            <obs id="br" conceptId="90251" answerConceptId="512"
                                 answerLabel="Skin Rash"/>
                            <obs id="br" conceptId="90251" answerConceptId="90138"
                                 answerLabel="GUD"/>
                            <obs id="br" conceptId="90251" answerConceptId="90094"
                                 answerLabel="Headache"/>
                            <obs id="br" conceptId="90251" answerConceptId="90134"
                                 answerLabel="IRIS"/>
                            <obs id="br" conceptId="90251" answerConceptId="123"
                                 answerLabel="Malaria"/>
                            <obs id="br" conceptId="90251" answerConceptId="162851"
                                 answerLabel="Acute Diarrhea"/>
                            <obs id="br" conceptId="90251" answerConceptId="5018"
                                 answerLabel="Persistent Diarrhea"/>
                            <obs id="br" conceptId="90251" answerConceptId="162852"
                                 answerLabel="Recurrent Diarrhea"/>
                            <obs id="br" conceptId="90251" answerConceptId="5334"
                                 answerLabel="Oral Thrush"/>
                            <obs id="br" conceptId="90251" answerConceptId="90127"
                                 answerLabel="Pneumonia"/>
                            <obs id="br" conceptId="90251" answerConceptId="90137"
                                 answerLabel="PID"/>
                            <obs id="br" conceptId="90251" answerConceptId="999"
                                 answerLabel="RTI"/>
                            <obs id="br" conceptId="90251" answerConceptId="90130"
                                 answerLabel="Thrush"/>
                            <obs id="br" conceptId="90251" answerConceptId="90136"
                                 answerLabel="UD"/>
                            <obs id="br" conceptId="90251" answerConceptId="90139"
                                 answerLabel="Ulcers"/>
                            <obs id="br" conceptId="90251" answerConceptId="106"
                                 answerLabel="URTI"/>
                            <obs id="br" conceptId="90251" answerConceptId="90135"
                                 answerLabel="Weight loss"/>
                            <obs id="br" conceptId="90251" answerConceptId="90126"
                                 answerLabel="Zoster"/>
                            <obs id="br" conceptId="90251" answerConceptId="507"
                                 answerLabel="KS"/>
                            <obs id="br" conceptId="90251" answerConceptId="1294"
                                 answerLabel="CCM"/>
                            <span class="enableDisable">
                                <span id="trigger">
                                    <obs conceptId="90251" answerConceptId="90002" answerLabel="Other specify:"/>
                                </span>
                                <span id="disabled">
                                    <obs conceptId="99032" size="17" answerClasses="Diagnosis"
                                         style="autocomplete"/>
                                </span>
                            </span>
                            <br/>
                        </td>
                        <td>
                            <obs conceptId="90235" answerConceptIds="90037,90038,90039"
                                 answerLabels="Amb,Work, Bed" labelText="" required="true"/>
                        </td>
                        <td>
                            <span id="last-who-staging" class="hidden"><lookup expression="fn.latestObs('90203').valueCoded.conceptId"/></span>
                            <obs id="who-staging" conceptId="90203"
                                 answerConceptIds="90033,90034,90035,90036,90293,90294,90295,90296"
                                 answerLabels="1,2,3,4,T1,T2,T3,T4" labelText="" required="true"/>
                            <obs id="basis-for-who-stage-change" conceptId="1163204" labelText="If changed, basis for change"/><br/>
                            <obs id="br" conceptId="5497" dateLabel="Date:" labelText="CD4:"/>
                        </td>
                        <td class="lablex2">
                            <obs id="br" conceptId="1193" answerConceptId="1107"
                                 answerLabel="None" />
                            <obs id="br" conceptId="1193" answerConceptId="931"
                                 answerLabels="Amitriptilline"/>
                            <obs id="br" conceptId="1193" answerConceptId="265"
                                 answerLabel="Amoxicillin"/>
                            <obs id="br" conceptId="1193" answerConceptId="779"
                                 answerLabel="Cetrizine"/>
                            <obs id="br" conceptId="1193" answerConceptId="740"
                                 answerLabel="Ciprofloxacine"/>
                            <obs id="br" conceptId="1193" answerConceptId="922"
                                 answerLabel="Cloxacillin"/>
                            <obs id="br" conceptId="1193" answerConceptId="99266"
                                 answerLabel="Coartem"/>
                            <obs id="br" conceptId="1193" answerConceptId="95"
                                 answerLabel="Doxycycline"/>
                            <obs id="br" conceptId="1193" answerConceptId="1108" answerLabel="EH"/>
                            <obs id="br" conceptId="1193" answerConceptId="272"
                                 answerLabel="Erythromycin"/>
                            <obs id="br" conceptId="1193" answerConceptId="747"
                                 answerLabel="Fluconazole"/>
                            <obs id="br" conceptId="1193" answerConceptId="912"
                                 answerLabel="Ibuprofen"/>
                            <obs id="br" conceptId="1193" answerConceptId="926"
                                 answerLabel="Ketoconazole"/>
                            <obs id="br" conceptId="1193" answerConceptId="244"
                                 answerLabel="Mebendazole"/>
                            <obs id="br" conceptId="1193" answerConceptId="237"
                                 answerLabel="Metronidazole"/>
                            <obs id="br" conceptId="1193" answerConceptId="461"
                                 answerLabel="Multivitamins"/>
                            <obs id="br" conceptId="1193" answerConceptId="99054"
                                 answerLabel="Nutrition Support"/>
                            <obs id="br" conceptId="1193" answerConceptId="919"
                                 answerLabel="Nystatin"/>
                            <obs id="br" conceptId="1193" answerConceptId="89"
                                 answerLabel="Paracetamol"/>
                            <obs id="br" conceptId="1193" answerConceptId="1194" answerLabel="RH"/>
                            <obs id="br" conceptId="1193" answerConceptId="99127" answerLabel="RHE"/>
                            <obs id="br" conceptId="1193" answerConceptId="768" answerLabel="RHZ"/>
                            <obs id="br" conceptId="1193" answerConceptId="1131"
                                 answerLabel="RHZE"/>
                            <obs id="br" conceptId="1193" answerConceptId="99128" answerLabel="RHZES"/>
                            <obs id="br" conceptId="1193" answerConceptId="329"
                                 answerLabel="Vit B Complex"/>
                            <span class="enableDisable">
                                <span id="trigger">
                                    <obs id="othermed" conceptId="1193" answerConceptId="90002"
                                         answerLabel="Other specify:"/>
                                </span>
                                <span id="disabled">
                                    <obs id="othermedtxt" conceptId="99035" answerClasses="Drug"
                                         style="autocomplete"/>
                                </span>
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section id="forthSection">
            <table>
                <tbody>
                    <tr>
                        <td style="width: 5%;background: #F3F3F3;padding: 20px;">CPT/Dapsone</td>
                        <td style="width: 5%;background: #F3F3F3;padding: 20px;">INH</td>
                        <td style="width: 5%;background: #F3F3F3;padding: 20px;">ART Eligibility</td>
                        <td style="width: 15%;background: #F3F3F3;padding: 20px; text-align: center;" colspan="2">ARV
                            drugs
                        </td>
                    </tr>
                    <tr>
                        <td >
                            <p class="hasInlineLabels">
                                <obs id="1193" conceptId="1193" answerConceptIds="916,90171,1107"
                                     answerLabels="Septrin,Dapson,Not Applicable" style="radio" answerSeparator="&lt;br/>" required="true"/>
                            </p>
                            <span id="SeptrinExperience">
                                <label>Did client experience any problem since last visit?</label>
                                <obs id="septrinProbQuestion" conceptId="1163185" answerConceptIds="90003,90004,1175" answerLabels="Yes,No,N/A">
                                    <controls>
                                        <when value="90003" thenDisplay="#septrinProblems" />
                                    </controls>
                                </obs>
                                <span id="septrinProblems">
                                    <label>if yes What?</label>
                                    <obs conceptId="1163186" answerConceptIds="512,1163187,1163188,1163189,99113" answerLabels="Skin rash,Skin Itching,Skin peeling,Patch on skin,Others" />
                                </span>
                            </span>
                            <obs id="septrinDapsoneAdherence" conceptId="90220" answerConceptIds="90156,90157,90158"
                                 answerLabels=" Good, Fair, Poor" labelText="Adherence:"/>
                            <br/>
                            <label>Number of days Missed:</label><obs id="septrinDapsoneDaysMissed" conceptId="1163190" answerConceptIds="1107,1163191,1163192,1163193,1163194,1163195,1163196" answerLabels="0,1,2,3,4,5,>5"/>
                            <obs conceptId="1163263" labelText="Pill Balance:" />
                            <obs conceptId="99037" labelText="# Pills Dispensed:"/>
                            <obs conceptId="99033" labelText="Days:"/>
                        </td>

                        <td>
                            <obs conceptId="99604" labelText="# Pills Dispensed:"/>
                            <obs conceptId="99605" labelText="Days:"/>
                        </td>
                        <td>
                            <obs id="eligibleQn" conceptId="99415" answerConceptIds="1065,1066" answerLabels="Yes,No" labelText="On ART:" required="true" >
                                <controls>
                                    <when value="1066" thenDisplay=".notonARTSection" />
                                </controls>
                            </obs>
                            <span class="notonARTSection">
                                <obs id="eligibleAnswer" conceptId="1358" answerConceptIds="1359,1364" labelText="Eligible for ART">
                                    <controls>
                                        <when value="1364" thenDisplay="#whyNotEligibleSection" />
                                    </controls>
                                </obs>
                            </span>
                            <span id="whyNotEligibleSection" class="notonARTSection">
                                <obs id="whyNotEligibleForART" conceptId="1163197" labelText="Why not Eligible:" >
                                    <when value="5622" thenDisplay="#otherReasonNotEligibleForART" />
                                </obs>
                            </span>
                            <span id="otherReasonNotEligibleForART">
                               <obs conceptId="1163203" labelText="Why not Eligible:" />
                            </span>
                        </td>
                        <td class="EnableDisableAdherenceReason checkboxGroup lablex3 ARVSections">
                            <span class="AdherenceEnableDisable1">
                                <obs conceptId="90221" answerConceptIds="90156,90157,90158"
                                     answerLabels=" Good, Fair, Poor" labelText="Adhererence:"/>
                            </span>
                            <span class="AdherenceEnableDisableChild1">
                                Why Poor/Fair:
                                <br/>
                                <obs id="br" conceptId="90223" answerConceptId="90040"
                                     answerLabel="1 - Toxicity"/>
                                <obs id="br" conceptId="90223" answerConceptId="90146"
                                     answerLabel="2 - Share with others"/>
                                <obs id="br" conceptId="90223" answerConceptId="90147"
                                     answerLabel="3 - Forgot"/>
                                <obs id="br" conceptId="90223" answerConceptId="90148"
                                     answerLabel="4 - Felt better"/>
                                <obs id="br" conceptId="90223" answerConceptId="90149"
                                     answerLabel="5 - Too ill"/>
                                <obs id="br" conceptId="90223" answerConceptId="90150"
                                     answerLabel="6 - Stigma"/>
                                <obs id="br" conceptId="90223" answerConceptId="90045"
                                     answerLabel="7 - Drug Stock out"/>
                                <obs id="br" conceptId="90223" answerConceptId="90151"
                                     answerLabel="8 - Lost pills"/>
                                <obs id="br" conceptId="90223" answerConceptId="90152"
                                     answerLabel="9 - Travel problems"/>
                                <obs id="br" conceptId="90223" answerConceptId="90051"
                                     answerLabel="10 - Inability to pay"/>
                                <obs id="br" conceptId="90223" answerConceptId="90153"
                                     answerLabel="11 - Alcohol"/>
                                <obs id="br" conceptId="90223" answerConceptId="90154"
                                     answerLabel="12 - Depression"/>
                                <obs id="br" conceptId="90223" answerConceptId="90155"
                                     answerLabel="13 - Pill burden"/>
                                <obs id="br" conceptId="90223" answerConceptId="99049"
                                     answerLabel="14 - Lack of food"/>
                                <span id="trigger">
                                    <obs id="br" conceptId="90223" answerConceptId="90002"
                                         answerLabel="15 - Other Specify:"/>
                                </span>
                                <span id="disabled">
                                    <obs id="br" conceptId="99125" labelText="" size="21"/>
                                </span>
                            </span>
                        </td>
                        <td class="ARVSections" style="width:3%;">
                            <span class="disableARTRegimen">
                                <excludeIf velocityTest="$patient.age &lt;15">
                                    <span class="RegimenEnableDisable1">
                                        <obs id="90315" conceptId="90315" labelText="Regimen:"
                                         answerConceptIds="99005,99006,99039,99040,99044,99046,99284,99286,99885,99888,163017,99887,90002,164977,164978"
                                         answerLabels="1c-AZT-3TC-NVP,1d-AZT-3TC-EFV,1e-TDF-3TC-NVP,1f-TDF-3TC-EFV,2b-TDF-3TC-LPV/r,2e-AZT-3TC-LPV/r,2c-AZT-3TC-ATV/r,1j-ABC-3TC-NVP,1i-ABC-3TC-EFV,2h-ABC-3TC-ATV/r,2g-ABC-3TC-LPV/r,2f-TDF-3TC-ATV/r,TDF/3TC/DTG,ABC/3TC/DTG,Other"/>
                                    </span>
                                    <span class="RegimenEnableDisableChild1">
                                        <obs id="br" conceptId="99126" size="18" labelText="Specify"/>
                                        <br/>
                                    </span>
                                </excludeIf>
                                <excludeIf velocityTest="$patient.age &gt;14">
                                    <span class="RegimenEnableDisable1">
                                        <obs id="90315" conceptId="90315" labelText="Regimen:"
                                         answerConceptIds="99005,99006,99039,99040,99044,99046,99284,99286,99885,99888,163017,90002,164977,164978"
                                         answerLabels="4c-AZT-3TC-NVP,4d-AZT-3TC-EFV,4j-TDF-3TC-NVP,4i-TDF-3TC-EFV,5b-TDF-3TC-LPV/r,4h-AZT-3TC-LPV/r,5l-AZT-3TC-ATV/r,5j-ABC-3TC-NVP,5i-ABC-3TC-EFV,5m-ABC-3TC-ATV/r,5k-ABC-3TC-LPV/r,TDF/3TC/DTG,ABC/3TC/DTG,Other"/>
                                    </span>
                                    <span class="RegimenEnableDisableChild1">
                                        <obs id="br" conceptId="99126" size="18" labelText="Specify"/>
                                        <br/>
                                    </span>
                                </excludeIf>
                                <obs id="br" conceptId="99038" labelText="Pill Balance:"/>
                                <obs id="br" conceptId="99038" labelText="# Pills Dispensed:"/>
                                <obs id="br" conceptId="99036" size="5" labelText="Days:"/>
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="fifthSection">
            <table>
                <tbody>
                    <tr>
                        <td style="width: 5%;background: #F3F3F3;padding: 20px; text-align: center;" colspan="2">
                            POV Assessement
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <obs id="POV" conceptId="1163271" answerConceptIds="90003,90004" answerLabels="1-Yes,2-No" labelText="Is Patient Eligible for POV?">
                                <controls><when value="90004" thenDisplay="#povSection"/></controls>
                            </obs>
                        </td>
                        <td id="povSection">
                            <obs id="reasonForDenyingPOV" conceptId="1163279" answerConceptIds="90049,1163272,1163273,90040,90041,1163274,1163275,1163276,1163277,1163278,5622" answerLabels="1-Poor Adherence,2-Missed appt in last 3months,3-KS lessthan 90,4-ART toxicities,5-Pregnant,6-On ART lessthan 1year,7-non ART CD4 lessthan 500,8-Co-morbidities,9-On 2nd line therapy,10-Dropping CD4 by morethan 100,11-Others" labelText="Specify reason for denying the patient POV">
                                <controls>
                                    <when value="5622" thenDisplay="#otherPOVEligibility" />
                                </controls>
                            </obs>
                            <span id="otherPOVEligibility">
                                <obs conceptId="1163319" labelText="Specify:" />
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section id="sixthSection">
            <table>
                <tbody>
                    <tr>
                        <td style="width: 5%;background: #F3F3F3;padding: 20px; text-align: center;" colspan="3">
                            Action Taken
                        </td>
                    </tr>
                    <tr>
                        <td class="lablex2">
                            <b>Tests ordered:</b>
                            <br/>
                            <obs conceptId="1271" answerConceptId="1019"
                                 answerLabel="CBC"/>
                            <obs conceptId="1271" answerConceptId="99152"
                                 answerLabel="RPR"/>
                            <obs conceptId="1271" answerConceptId="12"
                                 answerLabel="CXR"/>
                            <obs conceptId="1271" answerConceptId="21"
                                 answerLabel="Hgb"/>
                            <obs conceptId="1271" answerConceptId="657"
                                 answerLabel="Cd4"/>
                            <obs conceptId="1271" answerConceptId="856"
                                 answerLabel="VL"/>
                            <obs conceptId="1271" answerConceptId="307"
                                 answerLabel="Sputums"/>
                            <obs conceptId="1271" answerConceptId="99149"
                                 answerLabel="Infant Ab/PCR"/>
                            <obs conceptId="1271" answerConceptId="953"
                                 answerLabel="LFT"/>
                            <obs conceptId="1271" answerConceptId="1163309"
                                 answerLabel="RFT"/>
                            <span class="enableDisable">
                                <span id="trigger">
                                    <obs conceptId="1271" answerConceptId="90002"
                                         answerLabel="Other specify:"/>
                                </span>
                                <span id="disabled">
                                    <obs conceptId="99114" size="16" labelText=""/>
                                </span>
                            </span>
                        </td>
                        <td class="lablex2">
                            <b>Other Actions</b>
                            <br/>
                            <obs conceptId="90306" answerConceptId="90003"
                                 answerLabel="Transferred out"/>
                            <obs conceptId="90211" labelText="To:"/>
                            <obs conceptId="1163264" answerConceptId="90003"
                                 answerLabel="Requested Counselling"/>
                            <obs conceptId="1163268" answerConceptId="90003"
                                 answerLabel="Treated current OIs"/>
                            <obs conceptId="1358" answerConceptId="1362"
                                 answerLabel="Started on ART"/>
                            <obs conceptId="1163265" answerConceptId="90003"
                                 answerLabel="Initiate POV"/>
                            <obs conceptId="1163266" allowFutureDates="true" labelText="POV date:"/>
                            <obs conceptId="1163267" answerConceptId="90003"
                                 answerLabel="Re-Evaluate on next visit"/>
                            <obs size="30" conceptId="1163269" labelText="Issues to Re-Evaluate on next visit"/>
                            <obs cols="30" rows="3" conceptId="1163270" labelText="Significant Positive findings on examination"/>
                            <excludeIf velocityTest="$patient.person.dead == true">
                                <obs conceptId="5096" required="false" allowFutureDates="true" labelText="Re-evaluation date:" />
                            </excludeIf>
                        </td>
                        <td class="lablex2">
                            <b>Referred for</b>
                            <br/>
                            <obs conceptId="99054" answerConceptId="99053"
                                 answerLabel="Theraputic Feeding"/>
                            <obs conceptId="99054" answerConceptId="99051"
                                 answerLabel="Infant F C"/>
                            <obs conceptId="99054" answerConceptId="99052"
                                 answerLabel="Nutrition C"/>
                            <obs conceptId="99054" answerConceptId="99050"
                                 answerLabel="Food Support"/>
                            <br/>
                            <obs size="15" conceptId="99267" labelText="Other referral:"/>
                            <br/>
                            <obs conceptId="1151" answerConceptIds="5526,99089,6046"
                                 answerLabels="EBF,RF,MF" labelText="Infant feeding"/>
                            <br/>
                            <obs conceptId="90224" labelText="# Hospitalized days:">
                            </obs>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
    </div>
    <section>
        <table>
            <tr>
                <td>
                    <label><span class="required">*</span>Name of Clinician:
                    </label>
                    <encounterProvider role="Provider" style="autocomplete"/>
                </td>
            </tr>
        </table>
    </section>
    <section>
        <submit/>
    </section>
    <script>
        jQuery(document).ready(function() {
            var visitTypeValue = getValue('visitType.value');
            if (visitTypeValue == '') {
                jQuery('#reasonForNotComing').css('display','none');
                jQuery("#presentingComplaints").css('display','none');
                jQuery('#firstSection').css('display','none');
                jQuery('#secondSection').css('display','none');
                jQuery('#thirdSection').css('display','none');
                jQuery('#forthSection').css('display','none');
                jQuery('#fifthSection').css('display','none');
                jQuery('#sixthSection').css('display','none');
            }


            if (visitTypeValue == 1163310 || visitTypeValue == 1163311 || visitTypeValue == 1163307) {
                jQuery('#reasonForNotComing').css('display','none');
                jQuery("#presentingComplaints").css('display','block');
                jQuery('#firstSection').css('display','block');
                jQuery('#secondSection').css('display','block');
                jQuery('#thirdSection').css('display','block');
                jQuery('#forthSection').css('display','block');
                jQuery('#fifthSection').css('display','block');
                jQuery('#sixthSection').css('display','block');
            }

            if (visitTypeValue == 1163175) {
                jQuery('#reasonForNotComing').css('display','none');
                jQuery("#presentingComplaints").css('display','none');
                jQuery('#firstSection').css('display','block');
                jQuery('#secondSection').css('display','block');
                jQuery('#thirdSection').css('display','block');
                jQuery('#forthSection').css('display','block');
                jQuery('#fifthSection').css('display','block');
                jQuery('#sixthSection').css('display','block');
            }

            if (visitTypeValue == 1163312) {
                jQuery('#reasonForNotComing').css('display','none');
                jQuery("#presentingComplaints").css('display','block');
                jQuery('#firstSection').css('display','none');
                jQuery('#secondSection').css('display','block');
                jQuery('#thirdSection').css('display','block');
                jQuery('#forthSection').css('display','block');
                jQuery('#fifthSection').css('display','none');
                jQuery('#sixthSection').css('display','block');
            }

            if (visitTypeValue == 1163313) {
                jQuery('#reasonForNotComing').css('display','block');
                jQuery("#presentingComplaints").css('display','none');
                jQuery('#firstSection').css('display','none');
                jQuery('#secondSection').css('display','none');
                jQuery('#thirdSection').css('display','block');
                jQuery('#forthSection').css('display','block');
                jQuery('#fifthSection').css('display','none');
                jQuery('#sixthSection').css('display','block');
            }
        });

        jQuery(function() {
        getField('visitType.value').change(function() {
        var visitTypeValue = getValue('visitType.value');
        if (visitTypeValue == '') {
        jQuery('#reasonForNotComing').css('display','none');
        jQuery("#presentingComplaints").css('display','none');
        jQuery('#firstSection').css('display','none');
        jQuery('#secondSection').css('display','none');
        jQuery('#thirdSection').css('display','none');
        jQuery('#forthSection').css('display','none');
        jQuery('#fifthSection').css('display','none');
        jQuery('#sixthSection').css('display','none');
        }


        if (visitTypeValue == 1163310 || visitTypeValue == 1163311 || visitTypeValue == 1163307) {
        jQuery('#reasonForNotComing').css('display','none');
        jQuery("#presentingComplaints").css('display','block');
        jQuery('#firstSection').css('display','block');
        jQuery('#secondSection').css('display','block');
        jQuery('#thirdSection').css('display','block');
        jQuery('#forthSection').css('display','block');
        jQuery('#fifthSection').css('display','block');
        jQuery('#sixthSection').css('display','block');
        }

        if (visitTypeValue == 1163175) {
        jQuery('#reasonForNotComing').css('display','none');
        jQuery("#presentingComplaints").css('display','none');
        jQuery('#firstSection').css('display','block');
        jQuery('#secondSection').css('display','block');
        jQuery('#thirdSection').css('display','block');
        jQuery('#forthSection').css('display','block');
        jQuery('#fifthSection').css('display','block');
        jQuery('#sixthSection').css('display','block');
        }

        if (visitTypeValue == 1163312) {
        jQuery('#reasonForNotComing').css('display','none');
        jQuery("#presentingComplaints").css('display','block');
        jQuery('#firstSection').css('display','none');
        jQuery('#secondSection').css('display','block');
        jQuery('#thirdSection').css('display','block');
        jQuery('#forthSection').css('display','block');
        jQuery('#fifthSection').css('display','none');
        jQuery('#sixthSection').css('display','block');
        }

        if (visitTypeValue == 1163313) {
        jQuery('#reasonForNotComing').css('display','block');
        jQuery("#presentingComplaints").css('display','none');
        jQuery('#firstSection').css('display','none');
        jQuery('#secondSection').css('display','none');
        jQuery('#thirdSection').css('display','block');
        jQuery('#forthSection').css('display','block');
        jQuery('#fifthSection').css('display','none');
        jQuery('#sixthSection').css('display','block');
        }

        });
        });

        if(getValue('eligibleQn.value') == '') {
            jQuery(".ARVSections select").prop("disabled", true);
            jQuery(".ARVSections input").prop("disabled", true);
            jQuery(".ARVSections input").fadeTo(250, 0.25);
        }

        jQuery(function() {
            getField('eligibleQn.value').change(function() {
                if(getValue('eligibleQn.value') == '' || getValue('eligibleQn.value') == 1066 ) {
                    jQuery(".ARVSections select").prop("disabled", true);
                    jQuery(".ARVSections input").prop("disabled", true);
                    jQuery(".ARVSections input").fadeTo(250, 0.25);
                }
                else {
                    jQuery(".ARVSections select").prop("disabled", false);
                    jQuery(".ARVSections input").fadeTo(250, 1);
                }
            });
        });
    </script>
</htmlform>
